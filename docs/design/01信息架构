# 信息架构

## 1. 文档目的

本文档用于明确 DoraMate Web UI 在 V1.0 阶段的信息结构与层级关系，回答以下问题：

- 系统中“有哪些信息”
- 这些信息在界面中“如何被组织与呈现”
- 用户在不同阶段“主要关注什么信息”

该文档不涉及具体样式与像素，而是为布局设计、组件设计和交互设计提供结构基础。

---

## 2. 信息架构设计原则

DoraMate 的信息架构设计遵循以下原则：

1. **以任务为中心，而非以功能为中心**  
   信息的组织方式应贴合用户“构建并运行一个 Flow”的真实流程。

2. **可视化优先于文本**  
   结构关系尽量通过位置、分区和图形表达，而不是依赖说明文字。

3. **高频信息前置，低频信息收敛**  
   用户在编辑阶段最常用的信息应始终可见，其余信息按需展开。

4. **单一关注点原则**  
   用户在任何时刻，界面应引导其关注一个核心对象，避免多焦点干扰。

---

## 3. 用户核心任务拆解

从用户视角，V1.0 阶段的核心任务可以拆解为四个阶段：

1. **构建阶段**
   - 查找节点
   - 将节点放置到画布
   - 建立节点之间的连接关系

2. **配置阶段**
   - 选择节点
   - 查看节点属性
   - 调整必要参数

3. **校验阶段**
   - 检查结构是否合法
   - 发现并定位错误

4. **运行阶段**
   - 启动 Flow
   - 感知系统运行状态
   - 在必要时停止执行

信息架构需要围绕上述阶段动态支持用户，而不是一次性暴露全部信息。

---

## 4. 核心信息对象

### 4.1 Flow（数据流）

Flow 是系统中的最高层级对象，代表一个完整的可执行数据流。

Flow 相关信息包括：

- 当前 Flow 的整体结构
- Flow 的运行状态（未运行 / 运行中 / 已停止）
- Flow 是否通过验证

在 UI 中，Flow 的信息主要通过 **画布整体状态与工具栏反馈** 体现，而非单独面板。

---

### 4.2 Node（节点）

节点是构成 Flow 的基本单元。

节点相关信息包括：

- 节点类型（输入 / 处理 / 输出）
- 节点名称与标识
- 节点参数配置
- 节点运行状态

节点的结构信息主要体现在画布中，详细参数信息则集中在属性面板中展示。

---

### 4.3 Connection（连线）

连线用于表达节点之间的数据关系。

连线相关信息包括：

- 输入端口与输出端口的对应关系
- 连接是否合法
- 当前是否处于运行态

连线的信息应尽量通过 **颜色、形态与动画** 表达，避免额外的文本提示。

---

### 4.4 System Status（系统状态）

系统状态用于反馈当前 DoraMate 的整体运行情况，包括：

- 本地 Agent 是否可用
- Flow 是否正在运行
- 最近一次操作的结果（成功 / 失败）

系统状态信息应集中、克制地呈现，避免干扰编辑操作。

---

## 5. 信息在界面中的分布

### 工具栏（Top）

承载的信息类型：

- Flow 级别的操作与状态
- 系统级控制（运行 / 停止 / 校验）
- 文件相关操作入口

工具栏不承载具体节点或连线的详细信息。

---

### 节点面板（Left）

承载的信息类型：

- 可用节点的列表与分类
- 节点的基础识别信息（名称、类型）

节点面板只解决“我能用什么”，不展示“我现在用了什么”。

---

### 画布（Center）

承载的信息类型：

- Flow 的整体结构
- 节点之间的逻辑关系
- 运行态的主要视觉反馈

画布是信息密度最高的区域，但信息应以结构化方式呈现，而非文本堆叠。

---

### 属性面板（Right）

承载的信息类型：

- 当前选中节点的详细参数
- 参数校验与局部错误提示

属性面板只关注“当前对象”，不展示全局信息。

---

## 6. 信息层级与可见性策略

在任意时刻，界面中的信息可分为三层：

1. **主信息层**
   - 当前正在操作的对象（选中节点 / 当前 Flow）

2. **辅助信息层**
   - 与当前操作直接相关的提示或状态

3. **背景信息层**
   - 不影响当前操作的系统状态

设计上应确保主信息层始终最突出，其余信息通过弱化视觉权重来呈现。

---

## 7. V1.0 阶段的信息边界

为避免信息架构过度复杂，V1.0 明确不包含以下内容：

- 多 Flow 同时编辑
- 历史版本与回溯信息
- 实时日志流展示
- 多用户或协作相关信息

这些信息在架构上预留扩展空间，但不在当前信息层级中体现。

---

## 8. 与后续设计文档的关系

本信息架构文档为以下文档提供结构依据：

- 《布局设计》
- 《节点组件设计》
- 《画布与连线设计》
- 《交互状态设计》

后续文档中的所有界面元素，均应能在本信息架构中找到其对应的信息位置与层级。
