# Node Component Design
> DoraMate 节点卡片与端口设计规范

本文档定义 DoraMate V1.0 中 **节点（Node）组件** 的结构、视觉规范与交互约束，
用于统一前端实现、降低节点扩展成本，并支持 AI 自动生成样式与布局。

---

## 1. 节点的角色定义

在 DoraMate 中，节点是 **功能与逻辑的最小可视单元**，承担以下职责：

- 表达一个明确的功能（如：输入、判断、调用、输出）
- 通过端口（Port）与其他节点建立连接
- 在画布（Canvas）中可被拖拽、选中、编辑

---

## 2. 节点基础结构（Node Anatomy）

一个标准节点由以下部分组成：


---

## 3. 节点尺寸规范

| 类型 | 宽度 | 高度 |
|----|----|----|
| 最小节点 | 200px | 自适应 |
| 标准节点 | 240–280px | 自适应 |
| 复杂节点 | ≥320px | 自适应 |

设计原则：
- 高度随内容增长
- 宽度尽量统一，避免画布抖动感

---

## 4. 标题区（Header）

### 4.1 内容规范
- 节点名称（必填）
- 节点类型或图标（可选）
- 状态指示器（运行 / 错误）

### 4.2 视觉规范
- 背景色：比节点主体略深
- 字重：Medium / Semibold
- 可拖拽区域：**仅 Header 可拖拽**

---

## 5. 内容区（Body）

### 5.1 可包含内容
- 参数列表（key-value）
- 简短描述文本
- 当前状态提示（如：Waiting / Running）

### 5.2 排版规范
- 左对齐
- 行距 ≥ 1.4
- 参数名与参数值视觉区分

---

## 6. 端口（Port）设计规范

### 6.1 端口分类

| 类型 | 说明 |
|----|----|
| Input Port | 接收上游节点输出 |
| Output Port | 向下游节点传递数据 |

---

### 6.2 端口样式

- 形状：圆形
- 尺寸：8–10px
- 输入端口：靠左
- 输出端口：靠右

---

### 6.3 端口交互规则

- Hover：高亮 + 显示可连接提示
- Dragging：高亮可连接端口
- 禁止连接：显示禁用状态（灰色）

---

## 7. 节点类型示例（建议）

| 节点类型 | 说明 |
|----|----|
| Input Node | 数据输入 |
| Logic Node | 判断 / 处理 |
| Action Node | 调用 / 执行 |
| Output Node | 结果输出 |

---

## 8. 可扩展性原则

- 新节点必须继承基础结构
- 不允许破坏端口规则
- 视觉风格统一，但允许内容差异

---

## 9. 与前端实现的映射建议

- Node → React Component
- Header / Body / Port → 子组件
- 状态通过 props 控制（running / error）

---

## 10. 设计目标总结

- 高一致性
- 强可读性
- 易扩展
- AI 友好
